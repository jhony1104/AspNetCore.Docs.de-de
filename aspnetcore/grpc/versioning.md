---
title: Versionsverwaltung für gRPC-Dienste
author: jamesnk
description: Erfahren Sie, wie Sie die Versionsverwaltung für gRPC-Dienste durchführen können.
monikerRange: '>= aspnetcore-3.0'
ms.author: jamesnk
ms.date: 01/09/2020
uid: grpc/versioning
ms.openlocfilehash: 9bd76009ba28a1abef25a98686afea6753d4a8f4
ms.sourcegitcommit: f7886fd2e219db9d7ce27b16c0dc5901e658d64e
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2020
ms.locfileid: "78649357"
---
# <a name="versioning-grpc-services"></a><span data-ttu-id="bc1f9-103">Versionsverwaltung für gRPC-Dienste</span><span class="sxs-lookup"><span data-stu-id="bc1f9-103">Versioning gRPC services</span></span>

<span data-ttu-id="bc1f9-104">Von [James Newton-King](https://twitter.com/jamesnk)</span><span class="sxs-lookup"><span data-stu-id="bc1f9-104">By [James Newton-King](https://twitter.com/jamesnk)</span></span>

<span data-ttu-id="bc1f9-105">Neue Features, die zu einer App hinzugefügt werden, können es erforderlich machen, dass sich die gRPC-Dienste, die den Kunden zur Verfügung gestellt werden, ändern, manchmal auf unerwartete und entscheidende Weise.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-105">New features added to an app can require gRPC services provided to clients to change, sometimes in unexpected and breaking ways.</span></span> <span data-ttu-id="bc1f9-106">Wenn sich die gRPC-Dienste ändern:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-106">When gRPC services change:</span></span>

* <span data-ttu-id="bc1f9-107">Es sollten Überlegungen dahingehend angestellt werden, wie sich Veränderungen auf die Clients auswirken.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-107">Consideration should be given on how changes impact clients.</span></span>
* <span data-ttu-id="bc1f9-108">Es sollte eine Strategie der Versionsverwaltung zur Unterstützung von Änderungen implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-108">A versioning strategy to support changes should be implemented.</span></span>

## <a name="backwards-compatibility"></a><span data-ttu-id="bc1f9-109">Abwärtskompatibilität</span><span class="sxs-lookup"><span data-stu-id="bc1f9-109">Backwards compatibility</span></span>

<span data-ttu-id="bc1f9-110">Das gRPC-Protokoll wurde entwickelt, um Dienste zu unterstützen, die sich im Laufe der Zeit ändern.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-110">The gRPC protocol is designed to support services that change over time.</span></span> <span data-ttu-id="bc1f9-111">Im Allgemeinen sind die Ergänzungen zu den gRPC-Diensten und -Methoden keine Breaking Changes.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-111">Generally, additions to gRPC services and methods are non-breaking.</span></span> <span data-ttu-id="bc1f9-112">Non-Breaking Changes ermöglichen es bestehenden Clients, die Arbeit ohne Änderungen fortzusetzen.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-112">Non-breaking changes allow existing clients to continue working without changes.</span></span> <span data-ttu-id="bc1f9-113">Das Ändern oder Löschen von gRPC-Diensten sind Breaking Changes.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-113">Changing or deleting gRPC services are breaking changes.</span></span> <span data-ttu-id="bc1f9-114">Wenn gRPC-Dienste Breaking Changes aufweisen, müssen die Clients, die diesen Dienst in Anspruch nehmen, aktualisiert und erneut bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-114">When gRPC services have breaking changes, clients using that service have to be updated and redeployed.</span></span>

<span data-ttu-id="bc1f9-115">Die Durchführung von Non-Breaking Changes an einem Dienst hat eine Reihe von Vorteilen:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-115">Making non-breaking changes to a service has a number of benefits:</span></span>

* <span data-ttu-id="bc1f9-116">Vorhandene Clients werden weiterhin ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-116">Existing clients continue to run.</span></span>
* <span data-ttu-id="bc1f9-117">Vermeidet die Arbeit, die damit verbunden ist, Clients über Breaking Changes zu benachrichtigen und diese zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-117">Avoids work involved with notifying clients of breaking changes, and updating them.</span></span>
* <span data-ttu-id="bc1f9-118">Es muss nur eine Version des Diensts dokumentiert und verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-118">Only one version of the service needs to be documented and maintained.</span></span>

### <a name="non-breaking-changes"></a><span data-ttu-id="bc1f9-119">Geringfügige Änderungen</span><span class="sxs-lookup"><span data-stu-id="bc1f9-119">Non-breaking changes</span></span>

<span data-ttu-id="bc1f9-120">Diese Änderungen sind auf der gRPC-Protokollebene und der .NET-Binärebene keine Breaking Changes.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-120">These changes are non-breaking at a gRPC protocol level and .NET binary level.</span></span>

* <span data-ttu-id="bc1f9-121">**Hinzufügen eines neuen Diensts**</span><span class="sxs-lookup"><span data-stu-id="bc1f9-121">**Adding a new service**</span></span>
* <span data-ttu-id="bc1f9-122">**Hinzufügen einer neuen Methode zu einem Dienst**</span><span class="sxs-lookup"><span data-stu-id="bc1f9-122">**Adding a new method to a service**</span></span>
* <span data-ttu-id="bc1f9-123">**Hinzufügen eines Felds zu einer Anforderungsnachricht**: Zu einer Anforderungsnachricht hinzugefügte Felder werden auf dem Server mit dem [Standardwert](https://developers.google.com/protocol-buffers/docs/proto3#default) deserialisiert, wenn sie nicht festgelegt sind.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-123">**Adding a field to a request message** - Fields added to a request message are deserialized with the [default value](https://developers.google.com/protocol-buffers/docs/proto3#default) on the server when not set.</span></span> <span data-ttu-id="bc1f9-124">Damit es sich um Non-Breaking Changes handelt, muss der Dienst erfolgreich sein, wenn das neue Feld nicht von älteren Clients festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-124">To be a non-breaking change, the service must succeed when the new field isn't set by older clients.</span></span>
* <span data-ttu-id="bc1f9-125">**Hinzufügen eines Felds zu einer Antwortnachricht**: Zu einer Antwortnachricht hinzugefügte Felder werden in die Sammlung [Unbekannte Felder](https://developers.google.com/protocol-buffers/docs/proto3#unknowns) der Nachricht auf dem Client deserialisiert.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-125">**Adding a field to a response message** - Fields added to a response message are deserialized into the message's [unknown fields](https://developers.google.com/protocol-buffers/docs/proto3#unknowns) collection on the client.</span></span>
* <span data-ttu-id="bc1f9-126">**Hinzufügen eines Werts zu einer Enumeration**: Enumerationen werden als numerischer Wert serialisiert.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-126">**Adding a value to an enum** - Enums are serialized as a numeric value.</span></span> <span data-ttu-id="bc1f9-127">Neue Enumerationswerte werden auf dem Client in den Enumerationswert ohne Enumerationsnamen deserialisiert.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-127">New enum values are deserialized on the client to the enum value without an enum name.</span></span> <span data-ttu-id="bc1f9-128">Damit es sich um Non-Breaking Changes handelt, müssen ältere Clients ordnungsgemäß ausgeführt werden, wenn sie den neuen Enumerationswert erhalten.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-128">To be a non-breaking change, older clients must run correctly when receiving the new enum value.</span></span>

### <a name="binary-breaking-changes"></a><span data-ttu-id="bc1f9-129">Binäre Breaking Changes</span><span class="sxs-lookup"><span data-stu-id="bc1f9-129">Binary breaking changes</span></span>

<span data-ttu-id="bc1f9-130">Die folgenden Änderungen stellen auf gRPC-Protokollebene Non-Breaking Changes dar, aber der Client muss aktualisiert werden, wenn er ein Upgrade auf den aktuellsten *.proto*-Vertrag oder die aktuellste .NET-Clientassembly durchführt.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-130">The following changes are non-breaking at a gRPC protocol level, but the client needs to be updated if it upgrades to the latest *.proto* contract or client .NET assembly.</span></span> <span data-ttu-id="bc1f9-131">Binärkompatibilität ist wichtig, wenn Sie planen, eine gRPC-Bibliothek in NuGet zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-131">Binary compatibility is important if you plan to publish a gRPC library to NuGet.</span></span>

* <span data-ttu-id="bc1f9-132">**Entfernen eines Felds**: Werte aus einem entfernten Feld werden in die [unbekannten Felder](https://developers.google.com/protocol-buffers/docs/proto3#unknowns) einer Nachricht deserialisiert.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-132">**Removing a field** - Values from a removed field are deserialized to a message's [unknown fields](https://developers.google.com/protocol-buffers/docs/proto3#unknowns).</span></span> <span data-ttu-id="bc1f9-133">Dies sind keine Breaking Changes des gRPC-Protokolls, aber der Client muss aktualisiert werden, wenn er ein Upgrade auf den aktuellsten Vertrag erhält.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-133">This isn't a gRPC protocol breaking change, but the client needs to be updated if it upgrades to the latest contract.</span></span> <span data-ttu-id="bc1f9-134">Es ist wichtig, dass eine entfernte Feldnummer in Zukunft nicht versehentlich wiederverwendet wird.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-134">It's important that a removed field number isn't accidentally reused in the future.</span></span> <span data-ttu-id="bc1f9-135">Um sicherzustellen, dass dies nicht passiert, geben Sie gelöschte Feldnummern und Namen in der Nachricht mit dem [reservierten](https://developers.google.com/protocol-buffers/docs/proto3#reserved) Schlüsselwort von Protobuf an.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-135">To ensure this doesn't happen, specify deleted field numbers and names on the message using Protobuf's [reserved](https://developers.google.com/protocol-buffers/docs/proto3#reserved) keyword.</span></span>
* <span data-ttu-id="bc1f9-136">**Umbenennen einer Nachricht**: Nachrichtennamen werden normalerweise nicht über das Netzwerk gesendet, sodass es sich nicht um Breaking Changes des gRPC-Protokolls handelt.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-136">**Renaming a message** - Message names aren't typically sent on the network, so this isn't a gRPC protocol breaking change.</span></span> <span data-ttu-id="bc1f9-137">Der Client muss aktualisiert werden, wenn er ein Upgrade auf den aktuellsten Vertrag erhält.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-137">The client will need to be updated if it upgrades to the latest contract.</span></span> <span data-ttu-id="bc1f9-138">Eine Situation, in der Nachrichtennamen im Netzwerk **gesendet werden**, ist mit [Any](https://developers.google.com/protocol-buffers/docs/proto3#any)-Feldern, wenn der Nachrichtenname zur Identifizierung des Nachrichtentyps verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-138">One situation where message names **are** sent on the network is with [Any](https://developers.google.com/protocol-buffers/docs/proto3#any) fields, when the message name is used to identify the message type.</span></span>
* <span data-ttu-id="bc1f9-139">**Ändern von csharp_namespace**: Durch die Änderung von `csharp_namespace` wird der Namespace von generierten .NET-Typen geändert.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-139">**Changing csharp_namespace** - Changing `csharp_namespace` will change the namespace of generated .NET types.</span></span> <span data-ttu-id="bc1f9-140">Dies sind keine Breaking Changes des gRPC-Protokolls, aber der Client muss aktualisiert werden, wenn er ein Upgrade auf den aktuellsten Vertrag erhält.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-140">This isn't a gRPC protocol breaking change, but the client needs to be updated if it upgrades to the latest contract.</span></span>

### <a name="protocol-breaking-changes"></a><span data-ttu-id="bc1f9-141">Breaking Changes bei Protokollen</span><span class="sxs-lookup"><span data-stu-id="bc1f9-141">Protocol breaking changes</span></span>

<span data-ttu-id="bc1f9-142">Bei den folgenden Punkten handelt es sich um Breaking Changes von Protokollen und um binäre Breaking Changes:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-142">The following items are protocol and binary breaking changes:</span></span>

* <span data-ttu-id="bc1f9-143">**Umbenennen eines Felds**: Bei Protobuf-Inhalten werden die Feldnamen nur im generierten Code verwendet.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-143">**Renaming a field** - With Protobuf content, the field names are only used in generated code.</span></span> <span data-ttu-id="bc1f9-144">Die Feldnummer wird verwendet, um Felder im Netzwerk zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-144">The field number is used to identify fields on the network.</span></span> <span data-ttu-id="bc1f9-145">Die Umbenennung eines Felds ist für Protobuf keine Breaking Change für Protokolle.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-145">Renaming a field isn't a protocol breaking change for Protobuf.</span></span> <span data-ttu-id="bc1f9-146">Wenn ein Server jedoch JSON-Inhalte verwendet, ist die Umbenennung eines Felds eine Breaking Change.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-146">However, if a server is using JSON content then renaming a field is a breaking change.</span></span>
* <span data-ttu-id="bc1f9-147">**Ändern eines Felddatentyps**: Das Ändern des Datentyps eines Felds in einen [inkompatiblen Typ](https://developers.google.com/protocol-buffers/docs/proto3#updating) führt zu Fehlern bei der Deserialisierung der Nachricht.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-147">**Changing a field data type** - Changing a field's data type to an [incompatible type](https://developers.google.com/protocol-buffers/docs/proto3#updating) will cause errors when deserializing the message.</span></span> <span data-ttu-id="bc1f9-148">Selbst wenn der neue Datentyp kompatibel ist, ist es wahrscheinlich, dass der Client aktualisiert werden muss, um den neuen Typ zu unterstützen, wenn er ein Upgrade auf den aktuellsten Vertrag erhält.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-148">Even if the new data type is compatible, it's likely the client needs to be updated to support the new type if it upgrades to the latest contract.</span></span>
* <span data-ttu-id="bc1f9-149">**Ändern einer Feldnummer**: Bei Protobuf-Nutzlasten wird die Feldnummer zur Identifizierung von Feldern im Netzwerk verwendet.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-149">**Changing a field number** - With Protobuf payloads, the field number is used to identify fields on the network.</span></span>
* <span data-ttu-id="bc1f9-150">**Umbenennen eines Pakets, Diensts oder einer Methode**: gRPC verwendet den Paket-, Dienst- und Methodennamen zum Erstellen der URL.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-150">**Renaming a package, service or method** - gRPC uses the package name, service name, and method name to build the URL.</span></span> <span data-ttu-id="bc1f9-151">Der Client erhält vom Server den Status *NICHT IMPLEMENTIERT*.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-151">The client gets an *UNIMPLEMENTED* status from the server.</span></span>
* <span data-ttu-id="bc1f9-152">**Entfernen eines Diensts oder einer Methode**: Der Client erhält beim Aufruf der entfernten Methode vom Server den Status *NICHT IMPLEMENTIERT*.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-152">**Removing a service or method** - The client gets an *UNIMPLEMENTED* status from the server when calling the removed method.</span></span>

### <a name="behavior-breaking-changes"></a><span data-ttu-id="bc1f9-153">Breaking Changes für Verhalten</span><span class="sxs-lookup"><span data-stu-id="bc1f9-153">Behavior breaking changes</span></span>

<span data-ttu-id="bc1f9-154">Bei Non-Breaking Changes müssen Sie auch berücksichtigen, ob ältere Clients weiterhin mit dem neuen Dienstverhalten arbeiten können.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-154">When making non-breaking changes, you must also consider whether older clients can continue working with the new service behavior.</span></span> <span data-ttu-id="bc1f9-155">Beispiel: Hinzufügen eines neuen Felds zu einer Anforderungsnachricht:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-155">For example, adding a new field to a request message:</span></span>

* <span data-ttu-id="bc1f9-156">Dies sind keine Breaking Changes für Protokolle.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-156">Isn't a protocol breaking change.</span></span>
* <span data-ttu-id="bc1f9-157">Die Rückgabe eines Fehlerstatus auf dem Server, wenn das neue Feld nicht festgelegt ist, macht es für alte Clients zu einer Breaking Change.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-157">Returning an error status on the server if the new field isn't set makes it a breaking change for old clients.</span></span>

<span data-ttu-id="bc1f9-158">Die Verhaltenskompatibilität wird durch Ihren App-spezifischen Code bestimmt.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-158">Behavior compatibility is determined by your app-specific code.</span></span>

## <a name="version-number-services"></a><span data-ttu-id="bc1f9-159">Versionsnummerndienste</span><span class="sxs-lookup"><span data-stu-id="bc1f9-159">Version number services</span></span>

<span data-ttu-id="bc1f9-160">Die Dienste sollten anstreben, die Abwärtskompatibilität mit alten Clients zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-160">Services should strive to remain backwards compatible with old clients.</span></span> <span data-ttu-id="bc1f9-161">Möglicherweise erfordern Änderungen an Ihrer App entsprechende Breaking Changes.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-161">Eventually changes to your app may require breaking changes.</span></span> <span data-ttu-id="bc1f9-162">Alte Clients zu unterbrechen und zu zwingen, sie zusammen mit Ihrem Dienst zu aktualisieren, ist keine gute Benutzererfahrung.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-162">Breaking old clients and forcing them to be updated along with your service isn't a good user experience.</span></span> <span data-ttu-id="bc1f9-163">Eine Möglichkeit, die Abwärtskompatibilität aufrechtzuerhalten und gleichzeitig Breaking Changes vorzunehmen, besteht darin, mehrere Versionen eines Diensts zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-163">A way to maintain backwards compatibility while making breaking changes is to publish multiple versions of a service.</span></span>

<span data-ttu-id="bc1f9-164">gRPC unterstützt einen optionalen [Paket](https://developers.google.com/protocol-buffers/docs/proto3#packages)-Spezifizierer, der ähnlich wie ein .NET-Namespace funktioniert.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-164">gRPC supports an optional [package](https://developers.google.com/protocol-buffers/docs/proto3#packages) specifier, which functions much like a .NET namespace.</span></span> <span data-ttu-id="bc1f9-165">Tatsächlich wird der `package` als .NET-Namespace für generierte .NET-Typen verwendet, wenn `option csharp_namespace` in der *PROTO*-Datei nicht festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-165">In fact, the `package` will be used as the .NET namespace for generated .NET types if `option csharp_namespace` is not set in the *.proto* file.</span></span> <span data-ttu-id="bc1f9-166">Das Paket kann verwendet werden, um eine Versionsnummer für Ihren Dienst und seine Nachrichten anzugeben:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-166">The package can be used to specify a version number for your service and its messages:</span></span>

[!code-protobuf[](versioning/sample/greet.v1.proto?highlight=3)]

<span data-ttu-id="bc1f9-167">Der Paketname wird mit dem Dienstnamen kombiniert, um eine Dienstadresse zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-167">The package name is combined with the service name to identify a service address.</span></span> <span data-ttu-id="bc1f9-168">Eine Dienstadresse ermöglicht es, mehrere Versionen eines Diensts nebeneinander zu hosten:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-168">A service address allows multiple versions of a service to be hosted side-by-side:</span></span>

* `greet.v1.Greeter`
* `greet.v2.Greeter`

<span data-ttu-id="bc1f9-169">Implementierungen des Diensts mit Versionsangabe werden in *Startup.cs* registriert:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-169">Implementations of the versioned service are registered in *Startup.cs*:</span></span>

```csharp
app.UseEndpoints(endpoints =>
{
    // Implements greet.v1.Greeter
    endpoints.MapGrpcService<GreeterServiceV1>();

    // Implements greet.v2.Greeter
    endpoints.MapGrpcService<GreeterServiceV2>();
});
```

<span data-ttu-id="bc1f9-170">Das Einbeziehen einer Versionsnummer in den Paketnamen gibt Ihnen die Möglichkeit, eine *v2*-Version Ihres Diensts mit Breaking Changes zu veröffentlichen, während ältere Clients, die die *v1*-Version aufrufen, weiterhin unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-170">Including a version number in the package name gives you the opportunity to publish a *v2* version of your service with breaking changes, while continuing to support older clients who call the *v1* version.</span></span> <span data-ttu-id="bc1f9-171">Nachdem die Clients aktualisiert wurden, um den *v2*-Dienst zu nutzen, können Sie die alte Version entfernen.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-171">Once clients have updated to use the *v2* service, you can choose to remove the old version.</span></span> <span data-ttu-id="bc1f9-172">Wenn Sie planen, mehrere Versionen eines Diensts zu veröffentlichen:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-172">When planning to publish multiple versions of a service:</span></span>

* <span data-ttu-id="bc1f9-173">Vermeiden Sie Breaking Changes, wenn dies sinnvoll ist.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-173">Avoid breaking changes if reasonable.</span></span>
* <span data-ttu-id="bc1f9-174">Aktualisieren Sie die Versionsnummer nur dann, wenn Sie Breaking Changes vornehmen.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-174">Don't update the version number unless making breaking changes.</span></span>
* <span data-ttu-id="bc1f9-175">Aktualisieren Sie die Versionsnummer, wenn Sie Breaking Changes vornehmen.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-175">Do update the version number when you make breaking changes.</span></span>

<span data-ttu-id="bc1f9-176">Durch die Veröffentlichung mehrerer Versionen eines Diensts wird dieser dupliziert.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-176">Publishing multiple versions of a service duplicates it.</span></span> <span data-ttu-id="bc1f9-177">Um die Duplizierung zu verringern, sollten Sie in Erwägung ziehen, die Geschäftslogik von den Dienstimplementierungen an einen zentralen Ort zu verlagern, der von den alten und neuen Implementierungen wiederverwendet werden kann:</span><span class="sxs-lookup"><span data-stu-id="bc1f9-177">To reduce duplication, consider moving business logic from the service implementations to a centralized location that can be reused by the old and new implementations:</span></span>

[!code-csharp[](versioning/sample/GreeterServiceV1.cs?highlight=10,19)]

<span data-ttu-id="bc1f9-178">Dienste und Nachrichten, die mit unterschiedlichen Paketnamen generiert werden, sind **verschiedene .NET-Typen**.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-178">Services and messages generated with different package names are **different .NET types**.</span></span> <span data-ttu-id="bc1f9-179">Das Verschieben der Geschäftslogik an einen zentralen Ort erfordert die Zuordnung von Nachrichten zu allgemeinen Typen.</span><span class="sxs-lookup"><span data-stu-id="bc1f9-179">Moving business logic to a centralized location requires mapping messages to common types.</span></span>
